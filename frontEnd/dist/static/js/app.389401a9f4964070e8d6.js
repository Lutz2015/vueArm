webpackJsonp([2,0],{0:function(t,e,l){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}l(395);var i=l(16),r=a(i),o=l(686),n=a(o),s=l(361),c=a(s),u=l(674),m=a(u),f=l(673),d=a(f),p=l(675),b=a(p),h=l(2),_=a(h),v=l(646),g=a(v);l(661);var w=l(389),y=a(w),x=l(702),k=a(x),C=l(394),T=a(C),B=l(388),N=a(B),D=l(682),S=a(D);l(662),l(672),l(671),c.default.defaults.baseURL="http://localhost:8088/api/",c.default.defaults.timeout=15e3,c.default.defaults.headers.authKey=m.default.get("authKey"),c.default.defaults.headers.sessionId=m.default.get("sessionId"),c.default.defaults.headers["Content-Type"]="application/json";var j=new k.default({mode:"history",base:document.querySelector("#app").getAttribute("data-path")||"/",routes:y.default});j.beforeEach(function(t,e,l){var a=t.meta.hideLeft;T.default.dispatch("showLeftMenu",a),T.default.dispatch("showLoading",!0),S.default.start(),l()}),j.afterEach(function(t){S.default.done()}),r.default.use(g.default),r.default.use(k.default),window.router=j,window.store=T.default,window.HOST="http://localhost:8088/api/",window.axios=c.default,window._=b.default,window.moment=_.default,window.Lockr=m.default,window.Cookies=d.default,window._g=N.default,window.pageSize=15;var L=new r.default;window.bus=L,new r.default({el:"#app",template:"<App/>",router:j,store:T.default,components:{App:n.default}}).$mount("#app")},43:function(t,e,l){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=l(398),r=a(i),o={methods:{apiGet:function(t,e){return new r.default(function(l,a){axios.get(t,e).then(function(t){l(t.data)},function(t){a(t),_g.closeGlobalLoading(),bus.$message({message:"请求超时，请检查网络",type:"warning"})})})},apiPost:function(t,e){return new r.default(function(l,a){axios.post(t,e).then(function(t){l(t.data)}).catch(function(t){console.log("f",t),l(t),bus.$message({message:"请求超时，请检查网络",type:"warning"})})})},apiDelete:function(t,e){return new r.default(function(l,a){axios.delete(t+e).then(function(t){l(t.data)},function(t){a(t),_g.closeGlobalLoading(),bus.$message({message:"请求超时，请检查网络",type:"warning"})})})},apiPut:function(t,e,l){return new r.default(function(a,i){axios.put(t+e,l).then(function(t){a(t.data)},function(t){_g.closeGlobalLoading(),bus.$message({message:"请求超时，请检查网络",type:"warning"}),i(t)})})},handelResponse:function(t,e,l){_g.closeGlobalLoading(),200==t.code?e(t.data):("function"==typeof l&&l(),this.handleError(t))},handleError:function(t){var e=this;if(t.code)switch(t.code){case 101:if(console.log("cookie = ",Cookies.get("rememberPwd")),Cookies.get("rememberPwd")){var l={rememberKey:Lockr.get("rememberKey")};this.reAjax("admin/base/relogin",l).then(function(t){e.handelResponse(t,function(t){e.resetCommonData(t)})})}else _g.toastMsg("error",t.error),setTimeout(function(){router.replace("/")},1500);break;case 103:_g.toastMsg("error",t.error),setTimeout(function(){router.replace("/")},1500);break;default:_g.toastMsg("error",t.error)}else console.log("default error")},resetCommonData:function(t){var e=this;_(t.menusList).forEach(function(t,e){0==e?t.selected=!0:t.selected=!1}),Lockr.set("authKey",t.authKey),Lockr.set("rememberKey",t.rememberKey),Lockr.set("authList",t.authList),Lockr.set("userInfo",t.userInfo),Lockr.set("sessionId",t.sessionId),window.axios.defaults.headers.authKey=Lockr.get("authKey");var l=t.routerUrl;setTimeout(function(){var t=e.$route.path;l!=t&&router.replace(l)},1e3)},reAjax:function(t,e){return new r.default(function(l,a){axios.post(t,e).then(function(t){l(t.data)},function(t){a(t),bus.$message({message:"请求超时，请检查网络",type:"warning"})})})}},computed:{showLoading:function(){return store.state.globalLoading}}};e.default=o},380:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app",components:{}}},381:function(t,e,l){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=l(43),r=a(i);e.default={props:["dialogVisible"],data:function(){return{isShow:!1,disable:!1,form:{auth_key:"",old_pwd:"",new_pwd:""},rules:{old_pwd:[{required:!0,message:"请输入旧密码",trigger:"blur"},{min:6,max:12,message:"长度在 6 到 12 个字符",trigger:"blur"}],new_pwd:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:12,message:"长度在 6 到 12 个字符",trigger:"blur"}]}}},watch:{dialogVisible:function(t){t&&(this.isShow=t)}},methods:{close:function(){this.emit("update:dialogVisible",!1)},submit:function(){var t=this;this.$refs.form.validate(function(e){e&&(t.disable=!t.disable,t.apiPost("admin/base/setInfo",t.form).then(function(e){t.handelResponse(e,function(t){_g.toastMsg("success","修改成功"),Lockr.rm("authKey"),Lockr.rm("authList"),Lockr.rm("sessionId"),setTimeout(function(){router.replace("/")},1500)},function(){t.disable=!t.disable})}))})}},created:function(){this.form.auth_key=Lockr.get("authKey")},mixins:[r.default]}},382:function(t,e,l){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=l(43),r=a(i),o=l(16);a(o);e.default={data:function(){return{formList:{goods_num:"",product:"",cate:"",model:"",brand:"",unit:"",unit_price:""},listRules:{goods_num:[{required:!0,message:"请填写货号",trigger:"blur"}],product:[{required:!0,message:"请填写品名",trigger:"blur"}],brand:[{required:!0,message:"请填写品牌",trigger:"blur"}],model:[{required:!0,message:"请填写规格型号",trigger:"blur"}],cate:[{required:!0,message:"请填写产品类别",trigger:"blur"}],unit:[{required:!0,message:"请填写单位",trigger:"blur"}],unit_price:[{required:!0,message:"请填写单价",trigger:"blur"}]},cateData:[],activeName:"first",showEdit:[],showBtn:[]}},watch:{},created:function(){},mounted:function(){this.$store.state.number=this.$route.query.number,this.username=Lockr.get("userInfo").username,this.init()},methods:{init:function(){var t=this;this.apiPost("admin/contract/findGoodsInfo",{}).then(function(e){t.handelResponse(e,function(e){e&&e.length>0&&e.forEach(function(e){e.isUnit=!0,t.cateData.push(e)})})})},handleEdit:function(t,e){this.cateData.forEach(function(e,l){t===l&&(e.isUnit=!e.isUnit)})},handleCommit:function(t,e){var l=this;this.isLoading=!this.isLoading,this.apiPost("admin/contract/modifyGoodsInfo",{goods_num:e.goods_num,unit_price:e.unit_price}).then(function(e){l.handelResponse(e,function(e){l.isLoading=!l.isLoading,_g.toastMsg("success","添加成功"),l.cateData.forEach(function(e,l){t===l&&(e.isUnit=!e.isUnit)})},function(){l.isLoading=!l.isLoading})})},handleDelete:function(t,e){},addContractList:function(){var t=this;this.$refs.formList.validate(function(e){e&&(t.isLoading=!t.isLoading,t.apiPost("admin/contract/addGoodsInfo",t.formList).then(function(e){t.handelResponse(e,function(e){_g.toastMsg("success","添加成功"),t.isLoading=!t.isLoading,t.formList={goods_num:"",product:"",cate:"",model:"",brand:"",unit:"",unit_price:""}},function(){t.isLoading=!t.isLoading})}))})},add0:function(t){return t<10?"0"+t:t},format:function(t,e){var l=new Date(t),a=l.getFullYear(),i=l.getMonth()+1,r=l.getDate();l.getHours(),l.getMinutes(),l.getSeconds();return 1===e?a:2===e?a+"/"+this.add0(i):a+"/"+this.add0(i)+"/"+this.add0(r)}},mixins:[r.default]}},383:function(t,e,l){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=l(98),r=a(i),o=l(99),n=a(o),s=l(43),c=a(s);e.default={data:function(){return{formDetail:{},resultData:[],activeName:"first",tableContractData:[],tableBillData:[],isDisabled:!0,isEdit:!1,isZancun:!0,isUnitEdit:!1,formContract:{type:"",goods_num:"",product:"",cate:"",brand:"",model:"",unit:"",amount:"",unit_price:""},formBill:{date:"2018",quarter:"Q1",billAll17:"",billAll06:"",billAll0:"",billNoTax17:"",billNoTax06:"",billNoTax0:"",billTax17:"",billTax06:"",billTax0:""},contractRules:{goods_num:[{required:!0,message:"请填写货号",trigger:"change"}],product:[{required:!0,message:"请填写品名",trigger:"change"}],brand:[{required:!0,message:"请填写品牌",trigger:"blur"}],model:[{required:!0,message:"请填写规格型号",trigger:"blur"}],cate:[{required:!0,message:"请填写产品类别",trigger:"blur"}],unit:[{required:!0,message:"请填写单位",trigger:"blur"}]},defaultRadio:1,hardware:[],software:[],install:[],serve:[],other:[],username:"",isAudit:!1}},watch:{},created:function(){},mounted:function(){this.$store.state.number=this.$route.query.number,this.username=Lockr.get("userInfo").username,this.init()},methods:{init:function(){var t=this;this.apiPost("/admin/contract/showDetail",{number:this.$store.state.number}).then(function(e){t.handelResponse(e,function(e){e[0].year=e[0].year?t.format(1e3*e[0].year):"",e[0].begin_time=e[0].begin_time?t.format(1e3*e[0].begin_time):"",e[0].stop_time=e[0].stop_time?t.format(1e3*e[0].stop_time):"",e[0].check_time=e[0].check_time?t.format(1e3*e[0].check_time):"",e[0].end_time=e[0].end_time?t.format(1e3*e[0].end_time):"",t.formDetail=e[0],t.formDetail.bill&&t.formDetail.bill.length?t.formDetail.bill.forEach(function(e){e.check_time=t.format(1e3*e.check_time);var l=/(\d{4})\/(\d{2})\/(\d{2})/,a=e.check_time.replace(l,"$1年"),i=e.check_time.replace(l,"$2");i="01"==i?"Q1":"04"==i?"Q2":"07"==i?"Q3":"Q4",e.check_time=a+i}):t.formDetail.bill=[],t.formDetail.tax_rate=100*t.formDetail.tax_rate+"%",t.hardware=t.formDetail.hardware?t.formDetail.hardware:[],t.software=t.formDetail.software?t.formDetail.software:[],t.install=t.formDetail.install?t.formDetail.install:[],t.serve=t.formDetail.serve?t.formDetail.serve:[],t.other=t.formDetail.other?t.formDetail.other:[];var l=[t.hardware,t.software,t.install,t.serve,t.other];t.tableContractData=l.reduce(function(t,e){return t.concat(e)}),t.tableBillData=t.formDetail.bill||[]})})},openEdit:function(){this.isEdit?this.isDisabled=!1:this.isDisabled=!0,1==this.formDetail.status&&(this.isZanCun?this.isZanCun=!1:this.isZanCun=!0)},cancelAudit:function(){var t=this;this.isAudit||this.$confirm("确认取消审核吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){_g.openGlobalLoading();var e={number:t.$route.query.number,username:t.username};t.apiPost("admin/contract/cancelContract",e).then(function(e){t.handelResponse(e,function(e){_g.closeGlobalLoading(),t.isAudit=!0},function(){})})}).catch(function(){})},addContract:function(){var t=this;this.$refs.formContract.validate(function(e){var l={};if(e){switch(t.defaultRadio){case 1:t.formContract.type="硬件产品",l=(0,n.default)(l,t.formContract),t.hardware.push(l);break;case 2:t.formContract.type="软件产品",l=(0,n.default)(l,t.formContract),t.software.push(l);break;case 3:t.formContract.type="安装调试",l=(0,n.default)(l,t.formContract),t.install.push(l);break;case 4:t.formContract.type="服务",l=(0,n.default)(l,t.formContract),t.serve.push(l);break;case 5:t.formContract.type="其他",l=(0,n.default)(l,t.formContract),t.other.push(l)}var a=[t.hardware,t.software,t.install,t.serve,t.other];t.tableContractData=a.reduce(function(t,e){return t.concat(e)})}})},addBill:function(){this.formBill.billAll0=Number(this.formBill.billAll06)+Number(this.formBill.billAll17),this.formBill.billNoTax0=Number(this.formBill.billNoTax17)+Number(this.formBill.billNoTax06),this.formBill.billTax0=Number(this.formBill.billTax17)+Number(this.formBill.billTax06);var t=new Date(this.formBill.date);t=this.format(t,1),this.formBill.check_time=t+"年"+this.formBill.quarter;var e={};e=(0,n.default)(e,this.formBill),this.tableBillData.push(e),this.formBill={date:"2018",quarter:"Q1",billAll17:"",billAll06:"",billAll0:"",billNoTax17:"",billNoTax06:"",billNoTax0:"",billTax17:"",billTax06:"",billTax0:""}},editContractInfo:function(){var t=this;4==this.formDetail.status&&"admin"!==this.username&&_g.toastMsg("error","暂无修改权限");var e={};1==this.formDetail.status&&(e.category=this.formDetail.category,e.party_a=this.formDetail.party_a,e.thirdparty=this.formDetail.thirdparty),e.check_time=Date.parse(this.formDetail.check_time)/1e3,e.stop_time=Date.parse(this.formDetail.stop_time)/1e3,e.begin_time=Date.parse(this.formDetail.begin_time)/1e3,e.end_time=Date.parse(this.formDetail.end_time)/1e3,e.hotel=this.formDetail.hotel,e.group=this.formDetail.group,e.tax_rate=parseInt(this.formDetail.tax_rate)/100,e.number=this.formDetail.number,this.apiPost("/admin/contract/modify",e).then(function(e){t.handelResponse(e,function(e){_g.toastMsg("success","修改成功"),t.isEdit=!1,t.isZanCun=!0,t.isDisabled=!0},function(){t.disable=!t.disable})})},editContractList:function(){var t=this;if(4==this.formDetail.status&&"admin"!==this.username)return void _g.toastMsg("error","暂无修改权限");var e={};e.hardware=this.hardware.length>0?(0,r.default)(this.hardware):"",e.software=this.software.length>0?(0,r.default)(this.software):"",e.install=this.install.length>0?(0,r.default)(this.install):"",e.serve=this.serve.length>0?(0,r.default)(this.serve):"",e.other=this.other.length>0?(0,r.default)(this.other):"",e.number=this.formDetail.number,this.apiPost("/admin/contract/modify",e).then(function(e){t.handelResponse(e,function(t){_g.toastMsg("success","修改成功")},function(){t.disable=!t.disable})})},editBillContract:function(){var t=this,e=[],l={};this.tableBillData.forEach(function(l){var a={};a.billAll17=l.billAll17,a.billAll06=l.billAll17,a.billAll0=l.billAll17,a.billNoTax17=l.billNoTax17,a.billNoTax06=l.billNoTax06,a.billNoTax0=l.billTax0,a.billTax17=l.billTax17,a.billTax06=l.billTax06,a.billTax0=l.billTax0,a.check_time=l.check_time,a.date=l.date,a.quarter=l.quarter;var i=new Date(l.date);switch(i=t.format(i,1),a.quarter){case"Q1":a.check_time=Date.parse(i+"-01")/1e3;break;case"Q2":a.check_time=Date.parse(i+"-04")/1e3;break;case"Q3":a.check_time=Date.parse(i+"-07")/1e3;break;case"Q4":a.check_time=Date.parse(i+"-10")/1e3}e.push(a)}),l.bill=(0,r.default)(e),l.number=this.formDetail.number,this.apiPost("/admin/contract/modify",l).then(function(e){t.handelResponse(e,function(e){_g.toastMsg("success","修改成功"),t.isEdit=!1},function(){t.disable=!t.disable})})},loadAll:function(t){var e=this,l={};1==t?l.goods_num=this.formContract.goods_num:l.product=this.formContract.product,this.apiPost("admin/contract/findGoodsInfo",l).then(function(l){e.handelResponse(l,function(l){l&&l.length>0&&(1==t?e.formContract.product=l[0].product:e.formContract.goods_num=l[0].goods_num,e.formContract.cate=l[0].cate,e.formContract.brand=l[0].brand,e.formContract.model=l[0].model,e.formContract.unit=l[0].unit,e.formContract.unit_price=l[0].unit_price)})})},changeAll17:function(){this.formBill.billNoTax17=(this.formBill.billAll17/1.17).toFixed(2),this.formBill.billTax17=(this.formBill.billAll17-this.formBill.billNoTax17).toFixed(2),this.formBill.billAll0=this.formBill.billAll17+this.formBill.billAll06,this.formBill.billNoTax0=this.formBill.billNoTax17+this.formBill.billNoTax06,this.formBill.billTax0=this.formBill.billTax17+this.formBill.billTax06},changeAll06:function(t){this.formBill.billNoTax06=(this.formBill.billAll06/1.06).toFixed(2),this.formBill.billTax06=(this.formBill.billAll06-this.formBill.billNoTax06).toFixed(2),this.formBill.billAll0=Number(this.formBill.billAll06)+Number(this.formBill.billAll17),this.formBill.billNoTax0=Number(this.formBill.billNoTax17)+Number(this.formBill.billNoTax06),this.formBill.billTax0=Number(this.formBill.billTax17)+Number(this.formBill.billTax06)},changeNoTax17:function(t){this.formBill.billTax17=(Number(this.formBill.billAll17)-t).toFixed(2),this.formBill.billAll0=Number(this.formBill.billAll06)+Number(this.formBill.billAll17),this.formBill.billNoTax0=Number(this.formBill.billNoTax17)+Number(this.formBill.billNoTax06),this.formBill.billTax0=Number(this.formBill.billTax17)+Number(this.formBill.billTax06)},changeNoTax06:function(t){this.formBill.billTax06=(Number(this.formBill.billAll06)-t).toFixed(2),this.formBill.billAll0=Number(this.formBill.billAll06)+Number(this.formBill.billAll17),this.formBill.billNoTax0=Number(this.formBill.billNoTax17)+Number(this.formBill.billNoTax06),this.formBill.billTax0=Number(this.formBill.billTax17)+Number(this.formBill.billTax06)},handleContractDelete:function(t,e){var l=this;this.tableContractData.splice(t,1),this.hardware=[],this.software=[],this.install=[],this.serve=[],this.other=[],this.tableContractData.forEach(function(t){"硬件收入"===t.type?l.hardware.push(t):"软件收入"===t.type?l.software.push(t):"安装调试"===t.type?l.install.push(t):"服务"===t.type?l.serve.push(t):"其他"===t.type&&l.other.push(t)})},handleBillDelete:function(t,e){this.tableBillData.splice(t,1)},getSummaries:function(t){var e=t.columns,l=t.data,a=[];return e.forEach(function(t,e){if(0===e)return void(a[e]="总计");var i=l.map(function(e){return Number(e[t.property])});i.every(function(t){return isNaN(t)})?a[e]="暂无":(a[e]=i.reduce(function(t,e){var l=Number(e).toFixed(2);return isNaN(l)?t:t+e},0),a[e]&&(a[e]=Number(a[e]).toFixed(2)))}),a},add0:function(t){return t<10?"0"+t:t},format:function(t,e){var l=new Date(t),a=l.getFullYear(),i=l.getMonth()+1,r=l.getDate();l.getHours(),l.getMinutes(),l.getSeconds();return 1===e?a:2===e?a+"/"+this.add0(i):a+"/"+this.add0(i)+"/"+this.add0(r)}},mixins:[c.default]}},384:function(t,e,l){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=l(99),r=a(i),o=l(98),n=a(o),s=l(43),c=a(s),u=function(t,e,l){e>0&&e<100?l():l(new Error("请输入正确的税率"))};e.default={data:function(){return{defaultRadio:1,isLoading:!1,isContract:!1,form:{year:"",find_num:"",number:"",category:"",party_a:"",thirdparty:"",group:"",hotel:"",total_price:"",check_time:"",begin_time:"",end_time:"",stop_time:"",hardware:[],software:[],install:[],serve:[],other:[],bill:[],tax_rate:""},formContract:{type:"",name:"",goods_num:"",product:"",cate:"",brand:"",model:"",unit:"",amount:"",unit_price:""},formBill:{date:"2018",quarter:"Q1",billAll17:"",billAll06:"",billAll0:"",billNoTax17:"",billNoTax06:"",billNoTax0:"",billTax17:"",billTax06:"",billTax0:""},rules:{year:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],number:[{required:!0,message:"请填写合同编号",trigger:"blur"},{min:3,message:"长度至少三位以上",trigger:"blur"}],party_a:[{required:!0,message:"请填写合同甲方",trigger:"blur"}],group:[{required:!0,message:"请填写酒店集团",trigger:"blur"}],hotel:[{required:!0,message:"请填写酒店名字",trigger:"blur"}],category:[{required:!0,message:"请选择合同类型",trigger:"change"}],total_price:[{required:!0,message:"请填写合同总价",trigger:"blur"}],tax_rate:[{required:!0,type:"number",message:"请输入正确的税率",trigger:"blur",validator:u}]},contractRules:{goods_num:[{required:!0,message:"请填写货号",trigger:"change"}],product:[{required:!0,message:"请填写品名",trigger:"change"}],brand:[{required:!0,message:"请填写品牌",trigger:"blur"}],model:[{required:!0,message:"请填写规格型号",trigger:"blur"}],cate:[{required:!0,message:"请填写产品类别",trigger:"blur"}],unit:[{required:!0,message:"请填写单位",trigger:"blur"}]},contractText:"录入合同清单",invoiceInfoText:"录入发票信息",dialogContractList:!1,dialogInvoiceInfo:!1,activeName:"first",activeNames:"1",tableData:[],tableBillData:[],spanArr:[],timeout:null,restaurants:[]}},created:function(){},mounted:function(){this.restaurants=this.loadCategory()},methods:{handleContractDelete:function(t,e){this.tableData.splice(t,1)},handleBillDelete:function(t,e){this.tableBillData.splice(t,1)},commitContract:function(t){var e=this;this.$refs.form.validate(function(l){if(l){if(!e.isContract)return void _g.toastMsg("error","请输入合同清单信息");if(e.form.year=Date.parse(e.form.year)/1e3,e.form.check_time=Date.parse(e.form.check_time)/1e3,e.form.begin_time=Date.parse(e.form.begin_time)/1e3,e.form.end_time=Date.parse(e.form.end_time)/1e3,e.form.stop_time=Date.parse(e.form.stop_time)/1e3,e.form.category=e.form.category/100,e.form.end_time<e.form.begin_time)return void _g.toastMsg("error","请输入正确服务时间");e.isLoading=!e.isLoading,e.tableData.forEach(function(t){switch(t.type){case 1:e.form.hardware.push(t);break;case 2:e.form.software.push(t);break;case 3:e.form.install.push(t);break;case 4:e.form.serve.push(t);break;case 5:e.form.other.push(t)}}),e.form.hardware=e.form.hardware.length>0?(0,n.default)(e.form.hardware):"",e.form.software=e.form.software.length>0?(0,n.default)(e.form.software):"",e.form.install=e.form.install.length>0?(0,n.default)(e.form.install):"",e.form.serve=e.form.serve.length>0?(0,n.default)(e.form.serve):"",e.form.other=e.form.other.length>0?(0,n.default)(e.form.other):"",e.form.bill=e.tableBillData.length>0?(0,n.default)(e.tableBillData):"";var a=(0,r.default)(e.form,{is_type:t});e.apiPost("admin/contract/add",a).then(function(t){e.handelResponse(t,function(t){e.isLoading=!e.isLoading,_g.toastMsg("success","添加成功"),e.form={year:"",find_num:"",number:null,category:"",city:"",party_a:"",thirdparty:"",group:"",hotel:"",total_price:"",check_time:"",begin_time:"",end_time:"",stop_time:"",hardware:[],software:[],install:[],serve:[],other:[],bill:[]},e.formContract={type:"",name:"",goods_num:"",product:"",cate:"",brand:"",model:"",unit:"",amount:"",unit_price:""},e.formBill={date:"2018",quarter:"Q1",billAll17:"",billAll06:"",billAll0:"",billNoTax17:"",billNoTax06:"",billNoTax0:"",billTax17:"",billTax06:"",billTax0:""},e.tableData=[],e.tableBillData=[],e.isContract=!1},function(){e.isLoading=!e.isLoading,e.form.hardware=e.form.hardware?JSON.parse(e.form.hardware):"",e.form.software=e.form.software?JSON.parse(e.form.software):"",e.form.install=e.form.install?JSON.parse(e.form.install):"",e.form.serve=e.form.serve?JSON.parse(e.form.serve):"",e.form.other=e.form.other?JSON.parse(e.form.other):""})})}})},addContract:function(){var t=this;this.$refs.formContract.validate(function(e){if(e){switch(t.defaultRadio){case 1:t.formContract.type=1,t.formContract.name="硬件产品";break;case 2:t.formContract.type=2,t.formContract.name="软件产品";break;case 3:t.formContract.type=3,t.formContract.name="安装调试";break;case 4:t.formContract.type=4,t.formContract.name="服务";break;case 5:t.formContract.type=5,t.formContract.name="其他"}t.formContract.number=t.form.number;var l={};l=(0,r.default)(l,t.formContract),t.tableData.push(l),t.formContract={type:"",name:"",goods_num:"",product:"",cate:"",brand:"",model:"",unit:"",amount:"",unit_price:""}}})},addBill:function(){this.formBill.billAll0=Number(this.formBill.billAll06)+Number(this.formBill.billAll17),this.formBill.billNoTax0=Number(this.formBill.billNoTax17)+Number(this.formBill.billNoTax06),this.formBill.billTax0=Number(this.formBill.billTax17)+Number(this.formBill.billTax06);var t=new Date(this.formBill.date);switch(t=this.format(t,1),this.formBill.timeText=t+"年"+this.formBill.quarter,this.formBill.quarter){case"Q1":this.formBill.check_time=Date.parse(t+"-01")/1e3;break;case"Q2":this.formBill.check_time=Date.parse(t+"-04")/1e3;break;case"Q3":this.formBill.check_time=Date.parse(t+"-07")/1e3;break;case"Q4":this.formBill.check_time=Date.parse(t+"-10")/1e3}var e={};e=(0,r.default)(e,this.formBill),this.tableBillData.push(e),this.formBill={date:"2018",quarter:"Q1",billAll17:"",billAll06:"",billAll0:"",billNoTax17:"",billNoTax06:"",billNoTax0:"",billTax17:"",billTax06:"",billTax0:""}},loadAll:function(t){var e=this,l={};1==t?l.goods_num=this.formContract.goods_num:l.product=this.formContract.product,this.apiPost("admin/contract/findGoodsInfo",l).then(function(l){e.handelResponse(l,function(l){l&&l.length>0&&(1==t?e.formContract.product=l[0].product:e.formContract.goods_num=l[0].goods_num,e.formContract.cate=l[0].cate,e.formContract.brand=l[0].brand,e.formContract.model=l[0].model,e.formContract.unit=l[0].unit,e.formContract.unit_price=l[0].unit_price)})})},changeAll17:function(){this.formBill.billNoTax17=(this.formBill.billAll17/1.17).toFixed(2),this.formBill.billTax17=(this.formBill.billAll17-this.formBill.billNoTax17).toFixed(2),this.formBill.billAll0=this.formBill.billAll17+this.formBill.billAll06,this.formBill.billNoTax0=this.formBill.billNoTax17+this.formBill.billNoTax06,this.formBill.billTax0=this.formBill.billTax17+this.formBill.billTax06},changeAll06:function(t){this.formBill.billNoTax06=(this.formBill.billAll06/1.06).toFixed(2),this.formBill.billTax06=(this.formBill.billAll06-this.formBill.billNoTax06).toFixed(2),this.formBill.billAll0=Number(this.formBill.billAll06)+Number(this.formBill.billAll17),this.formBill.billNoTax0=Number(this.formBill.billNoTax17)+Number(this.formBill.billNoTax06),this.formBill.billTax0=Number(this.formBill.billTax17)+Number(this.formBill.billTax06)},changeNoTax17:function(){this.formBill.billAll17=(1.17*this.formBill.billNoTax17).toFixed(2),this.formBill.billTax17=(this.formBill.billAll17-billNoTax17).toFixed(2),this.formBill.billAll0=Number(this.formBill.billAll17)+Number(this.formBill.billAll06),this.formBill.billNoTax0=Number(this.formBill.billNoTax17)+Number(this.formBill.billNoTax06),this.formBill.billTax0=Number(this.formBill.billTax17)+Number(this.formBill.billTax06)},changeNoTax06:function(t){this.formBill.billAll06=(1.06*this.formBill.billNoTax06).toFixed(2),this.formBill.billTax06=(this.formBill.billAll06-this.formBill.billNoTax06).toFixed(2),this.formBill.billAll0=Number(this.formBill.billAll06)+Number(this.formBill.billAll17),this.formBill.billNoTax0=Number(this.formBill.billNoTax17)+Number(this.formBill.billNoTax06),this.formBill.billTax0=Number(this.formBill.billTax17)+Number(this.formBill.billTax06)},getSummaries:function(t){var e=t.columns,l=t.data,a=[];return e.forEach(function(t,e){if(0===e)return void(a[e]="总计");var i=l.map(function(e){return Number(e[t.property])});i.every(function(t){return isNaN(t)})?a[e]="暂无":a[e]=i.reduce(function(t,e){var l=Number(e).toFixed(2);return isNaN(l)?t:t+e},0)}),a},keepContract:function(){this.tableData.length&&(this.isContract=!0,this.activeName="first")},keepBill:function(){this.tableBillData.length&&(this.activeName="first")},querySearchCate:function(t,e){var l=this.restaurants,a=t?l.filter(this.createFilter(t)):l;e(a)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},handleSelect:function(t){t.value=this.form.category},loadCategory:function(){return[{value:"HSIA五星服务"},{value:"HSIA白金服务"},{value:"HSIA服务增补"},{value:"HSIA短信包"},{value:"HSIA按次计费"},{value:"HSIA驻店服务"},{value:"HSIA购销"},{value:"HSIA购销增补"},{value:"HSIA运营"},{value:"WLAN购销"},{value:"WLAN服务"},{value:"WLAN增补"},{value:"WLAN增值服务"},{value:"网络加速服务"},{value:"MESS"},{value:"O2O"},{value:"Wi-Fi"},{value:"IDS购销"},{value:"IDS服务"},{value:"IDS购销增补"},{value:"IDS服务增补"},{value:"IDS维修服务"},{value:"ISTV购销"},{value:"ISTV改造"},{value:"ISTV服务"},{value:"ISTV购销增补"},{value:"ISTV服务增补"},{value:"ISTV维修/护服务"},{value:"ISTV（点播）服务"},{value:"ISTV点播分成"},{value:"RCU购销"},{value:"RCU增补"},{value:"RCU服务"},{value:"RCU升级"},{value:"RCU其他"}]},add0:function(t){return t<10?"0"+t:t},format:function(t,e){var l=new Date(t),a=l.getFullYear(),i=l.getMonth()+1,r=l.getDate();l.getHours(),l.getMinutes(),l.getSeconds();return 1===e?a:2===e?a+"/"+this.add0(i):a+"/"+this.add0(i)+"/"+this.add0(r)}},mixins:[c.default]}},385:function(t,e,l){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=l(687),r=a(i),o=l(43),n=a(o);e.default={data:function(){return{showDialog:!1,username:"",topMenu:[],childMenu:[],menuData:[],hasChildMenu:!1,menu:null,module:null,logo_type:null,activeIndex:"1",secMenu:[{path:"/home/edit",name:"Edit",icon:"el-icon-document",title:"合同录入"},{path:"/home/result",name:"Result",icon:"el-icon-menu",title:"数据报表"},{path:"/home/cate",icon:"el-icon-location",name:"Cate",title:"产品清单"}]}},watch:{$route:function(){this.getCurrent()}},mounted:function(){console.log(this.$store.state.number)},methods:{getCurrent:function(){"Detail"===this.$route.name&&(this.activeIndex="3")},logout:function(){var t=this;this.$confirm("确认退出吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){_g.openGlobalLoading();var e={authkey:Lockr.get("authKey"),sessionId:Lockr.get("sessionId")};t.apiPost("admin/base/logout",e).then(function(e){_g.closeGlobalLoading(),t.handelResponse(e,function(t){Lockr.rm("menus"),Lockr.rm("authKey"),Lockr.rm("rememberKey"),Lockr.rm("authList"),Lockr.rm("userInfo"),Lockr.rm("sessionId"),Cookies.remove("rememberPwd"),_g.toastMsg("success","退出成功"),setTimeout(function(){router.replace("/")},1500)})})}).catch(function(){})},handleMenu:function(t){switch(t){case"logout":this.logout();break;case"changePwd":this.changePwd()}},changePwd:function(){this.showDialog=!0},getUsername:function(){this.username=Lockr.get("userInfo").username},routerChange:function(t){t.name!=this.$route.name&&router.push(t.path)}},created:function(){var t=Lockr.get("authKey");return t?void this.getUsername():(_g.toastMsg("warning","您尚未登录"),void setTimeout(function(){router.replace("/")},1500))},computed:{routerShow:function(){return store.state.routerShow},showLeftMenu:function(){return this.hasChildMenu=store.state.showLeftMenu,store.state.showLeftMenu}},components:{changePwd:r.default},mixins:[n.default]}},386:function(t,e,l){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=l(43),r=a(i);e.default={data:function(){return{title:"",systemName:"",loading:!1,form:{username:"",password:"",verifyCode:""},requireVerify:!1,verifyUrl:"",verifyImg:window.HOST+"admin/base/getVerify",rules2:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],verifyCode:[{required:!1,message:"请输入验证码",trigger:"blur"}]},checked:!1}},methods:{handleSubmit2:function(t){var e=this;this.loading||this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!e.loading;var l={};e.requireVerify?(l.username=e.form.username,l.password=e.form.password,l.verifyCode=e.form.verifyCode):(l.username=e.form.username,l.password=e.form.password),e.checked?l.isRemember=1:l.isRemember=0,e.apiPost("admin/base/login",l).then(function(t){200!=t.code?(e.loading=!e.loading,e.handleError(t)):(e.checked&&Cookies.set("rememberPwd",!0,{expires:1}),t.data.routerUrl="/home/edit",e.resetCommonData(t.data),_g.toastMsg("success","登录成功"))})})}},mounted:function(){var t=this;window.addEventListener("keyup",function(e){13===e.keyCode&&t.handleSubmit2("form")})},mixins:[r.default]}},387:function(t,e,l){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=l(98),r=a(i),o=l(397),n=a(o),s=l(43),c=a(s),u=l(16);a(u);e.default={data:function(){return{formTab:{status:"0",number:"",product:"",page:1,page_num:10,is_excel:1},page:0,from_time:"",to_time:"",page_total:0,resultData:[],tableBillData:[],multipleSelection:[],url:""}},watch:{},filters:{NumFormat:function(t){if(!t)return"0";t=t.toFixed(2);var e=(0,n.default)(t),l=e.toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"),a=".00",i=t.split(".");return 2===i.length?(a=i[1].toString(),1===a.length?l+"."+a+"0":l+"."+a):l>0?l+a:void 0}},created:function(){},mounted:function(){var t=new Date("").getTime(),e=new Date("").getTime();this.from_time=this.format(t),this.to_time=this.format(e),this.formTab.page=this.formTab.page-1,this.onSubmit()},methods:{handleSelectionChange:function(t){this.multipleSelection=t},checkboxInit:function(t,e){return 3!=t.status?0:1},sendSelection:function(){var t=[];return this.multipleSelection.forEach(function(e){t.push({number:e.number})}),t.length?(t=(0,r.default)(t),void this.apiPost("/admin/contract/auditContract",{numbers:t}).then(function(t){_g.toastMsg("success","送审成功")})):void _g.toastMsg("error","请选择合同")},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.formTab.page_num=t,this.onSubmit()},handleCurrentChange:function(t){console.log("当前页: "+t),this.formTab.page=t-1,this.onSubmit()},onSubmit:function(){var t=this;this.disable=!this.disable,this.formTab.from_time=Date.parse(this.from_time)/1e3;var e=void 0,l=new Date(this.to_time).getMonth()+1;return e=2===+l||4===+l||4===+l||8===+l?2592e3:2678400,this.formTab.to_time=Date.parse(this.to_time)/1e3+e,this.formTab.to_time<=this.formTab.from_time?void _g.toastMsg("error","结束时间不能小于开始时间"):void this.apiPost("/admin/contract/showResult",this.formTab).then(function(e){t.handelResponse(e,function(e){e.list.length>0&&e.list.forEach(function(e){e.year=t.format(1e3*e.year);var l=/(\d{4})\/(\d{2})\/(\d{2})/;e.year=e.year.replace(l,"$1年")}),t.resultData=e.list,
t.page_total=e.page_total,t.url=e.url},function(){t.disable=!t.disable})})},downloadResult:function(){window.open(this.url)},getSummaries:function(t){var e=t.columns,l=t.data,a=[];return e.forEach(function(t,e){if(0===e)return void(a[e]="总计");if(1===e||2===e||3===e||4===e||5===e||6===e)return void(a[e]="-");var i=l.map(function(e){return Number(e[t.property])});i.every(function(t){return isNaN(t)})?a[e]="暂无":(a[e]=i.reduce(function(t,e){var l=Number(e);return isNaN(l)?t:t+e},0),a[e]=Number(a[e]).toFixed(2))}),a},rowTitLink:function(t){router.push({path:"/home/detail",query:{number:t.number}})},add0:function(t){return t<10?"0"+t:t},format:function(t,e){var l=new Date(t),a=l.getFullYear(),i=l.getMonth()+1,r=l.getDate();l.getHours(),l.getMinutes(),l.getSeconds();return 1===e?a:2===e?a+"/"+this.add0(i):a+"/"+this.add0(i)+"/"+this.add0(r)}},mixins:[c.default]}},388:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={closeGlobalLoading:function(){setTimeout(function(){store.dispatch("showLoading",!1)},0)},openGlobalLoading:function(){setTimeout(function(){store.dispatch("showLoading",!0)},0)},toastMsg:function(t,e){switch(t){case"normal":bus.$message(e);break;case"success":bus.$message({message:e,type:"success"});break;case"warning":bus.$message({message:e,type:"warning"});break;case"error":bus.$message.error(e)}},clearVuex:function(t){store.dispatch(t,[])},getHasRule:function(t){var e="admin",l=Lockr.get("userInfo");if(1==l.id)return!0;var a=e+Lockr.get("authList");return _.includes(a,t)}};e.default=l},389:function(t,e,l){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=l(692),r=a(i),o=l(691),n=a(o),s=l(690),c=a(s),u=l(693),m=a(u),f=l(689),d=a(f),p=l(688),b=a(p),h=[{path:"/",component:r.default,title:"登录",name:"Login",redirect:"/login"},{path:"/home",component:n.default,title:"首页",children:[{path:"edit",component:c.default,name:"Edit",title:"合同录入",meta:{hideLeft:!1}},{path:"result",component:m.default,name:"Result",title:"报表展示",meta:{hideLeft:!1}},{path:"detail",component:d.default,name:"Detail",title:"合同详情",meta:{hideLeft:!1}},{path:"cate",component:b.default,name:"Cate",title:"合同详情",meta:{hideLeft:!1}}]}];e.default=h},390:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={showLeftMenu:function(t,e){var l=t.commit;l("showLeftMenu",e)},showLoading:function(t,e){var l=t.commit;l("showLoading",e)},setNumber:function(t,e){var l=t.commit;l("setNumber",e)},setRules:function(t,e){var l=t.commit;l("setRules",e)},setUsers:function(t,e){var l=t.commit;l("setUsers",e)}};e.default=l},391:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={};e.default=l},392:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={showLeftMenu:function(t,e){t.showLeftMenu=e},showLoading:function(t,e){t.globalLoading=e},setNumber:function(t,e){t.number=e},setRules:function(t,e){t.rules=e},setUsers:function(t,e){t.users=e}};e.default=l},393:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={showLeftMenu:!0,globalLoading:!0,rules:[],users:{},userGroups:[],organizes:[],number:"123"};e.default=l},394:function(t,e,l){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=l(16),r=a(i),o=l(703),n=a(o),s=l(393),c=a(s),u=l(392),m=a(u),f=l(391),d=a(f),p=l(390),b=a(p);r.default.use(n.default),e.default=new n.default.Store({state:c.default,mutations:m.default,getters:d.default,actions:b.default})},661:function(t,e){},662:function(t,e){},663:function(t,e){},664:function(t,e){},665:function(t,e){},666:function(t,e){},667:function(t,e){},668:function(t,e){},669:function(t,e){},670:function(t,e){},671:function(t,e){},672:function(t,e){},676:function(t,e,l){function a(t){return l(i(t))}function i(t){return r[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var r={"./af":213,"./af.js":213,"./ar":220,"./ar-dz":214,"./ar-dz.js":214,"./ar-kw":215,"./ar-kw.js":215,"./ar-ly":216,"./ar-ly.js":216,"./ar-ma":217,"./ar-ma.js":217,"./ar-sa":218,"./ar-sa.js":218,"./ar-tn":219,"./ar-tn.js":219,"./ar.js":220,"./az":221,"./az.js":221,"./be":222,"./be.js":222,"./bg":223,"./bg.js":223,"./bm":224,"./bm.js":224,"./bn":225,"./bn.js":225,"./bo":226,"./bo.js":226,"./br":227,"./br.js":227,"./bs":228,"./bs.js":228,"./ca":229,"./ca.js":229,"./cs":230,"./cs.js":230,"./cv":231,"./cv.js":231,"./cy":232,"./cy.js":232,"./da":233,"./da.js":233,"./de":236,"./de-at":234,"./de-at.js":234,"./de-ch":235,"./de-ch.js":235,"./de.js":236,"./dv":237,"./dv.js":237,"./el":238,"./el.js":238,"./en-au":239,"./en-au.js":239,"./en-ca":240,"./en-ca.js":240,"./en-gb":241,"./en-gb.js":241,"./en-ie":242,"./en-ie.js":242,"./en-il":243,"./en-il.js":243,"./en-nz":244,"./en-nz.js":244,"./eo":245,"./eo.js":245,"./es":248,"./es-do":246,"./es-do.js":246,"./es-us":247,"./es-us.js":247,"./es.js":248,"./et":249,"./et.js":249,"./eu":250,"./eu.js":250,"./fa":251,"./fa.js":251,"./fi":252,"./fi.js":252,"./fo":253,"./fo.js":253,"./fr":256,"./fr-ca":254,"./fr-ca.js":254,"./fr-ch":255,"./fr-ch.js":255,"./fr.js":256,"./fy":257,"./fy.js":257,"./gd":258,"./gd.js":258,"./gl":259,"./gl.js":259,"./gom-latn":260,"./gom-latn.js":260,"./gu":261,"./gu.js":261,"./he":262,"./he.js":262,"./hi":263,"./hi.js":263,"./hr":264,"./hr.js":264,"./hu":265,"./hu.js":265,"./hy-am":266,"./hy-am.js":266,"./id":267,"./id.js":267,"./is":268,"./is.js":268,"./it":269,"./it.js":269,"./ja":270,"./ja.js":270,"./jv":271,"./jv.js":271,"./ka":272,"./ka.js":272,"./kk":273,"./kk.js":273,"./km":274,"./km.js":274,"./kn":275,"./kn.js":275,"./ko":276,"./ko.js":276,"./ky":277,"./ky.js":277,"./lb":278,"./lb.js":278,"./lo":279,"./lo.js":279,"./lt":280,"./lt.js":280,"./lv":281,"./lv.js":281,"./me":282,"./me.js":282,"./mi":283,"./mi.js":283,"./mk":284,"./mk.js":284,"./ml":285,"./ml.js":285,"./mn":286,"./mn.js":286,"./mr":287,"./mr.js":287,"./ms":289,"./ms-my":288,"./ms-my.js":288,"./ms.js":289,"./mt":290,"./mt.js":290,"./my":291,"./my.js":291,"./nb":292,"./nb.js":292,"./ne":293,"./ne.js":293,"./nl":295,"./nl-be":294,"./nl-be.js":294,"./nl.js":295,"./nn":296,"./nn.js":296,"./pa-in":297,"./pa-in.js":297,"./pl":298,"./pl.js":298,"./pt":300,"./pt-br":299,"./pt-br.js":299,"./pt.js":300,"./ro":301,"./ro.js":301,"./ru":302,"./ru.js":302,"./sd":303,"./sd.js":303,"./se":304,"./se.js":304,"./si":305,"./si.js":305,"./sk":306,"./sk.js":306,"./sl":307,"./sl.js":307,"./sq":308,"./sq.js":308,"./sr":310,"./sr-cyrl":309,"./sr-cyrl.js":309,"./sr.js":310,"./ss":311,"./ss.js":311,"./sv":312,"./sv.js":312,"./sw":313,"./sw.js":313,"./ta":314,"./ta.js":314,"./te":315,"./te.js":315,"./tet":316,"./tet.js":316,"./tg":317,"./tg.js":317,"./th":318,"./th.js":318,"./tl-ph":319,"./tl-ph.js":319,"./tlh":320,"./tlh.js":320,"./tr":321,"./tr.js":321,"./tzl":322,"./tzl.js":322,"./tzm":324,"./tzm-latn":323,"./tzm-latn.js":323,"./tzm.js":324,"./ug-cn":325,"./ug-cn.js":325,"./uk":326,"./uk.js":326,"./ur":327,"./ur.js":327,"./uz":329,"./uz-latn":328,"./uz-latn.js":328,"./uz.js":329,"./vi":330,"./vi.js":330,"./x-pseudo":331,"./x-pseudo.js":331,"./yo":332,"./yo.js":332,"./zh-cn":333,"./zh-cn.js":333,"./zh-hk":334,"./zh-hk.js":334,"./zh-tw":335,"./zh-tw.js":335};a.keys=function(){return Object.keys(r)},a.resolve=i,t.exports=a,a.id=676},686:function(t,e,l){var a,i;l(664),a=l(380);var r=l(695);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,t.exports=a},687:function(t,e,l){var a,i;l(670),a=l(381);var r=l(701);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,t.exports=a},688:function(t,e,l){var a,i;l(663),a=l(382);var r=l(694);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,t.exports=a},689:function(t,e,l){var a,i;l(666),a=l(383);var r=l(697);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,t.exports=a},690:function(t,e,l){var a,i;l(669),a=l(384);var r=l(700);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,t.exports=a},691:function(t,e,l){var a,i;l(665),a=l(385);var r=l(696);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,t.exports=a},692:function(t,e,l){var a,i;l(667),a=l(386);var r=l(698);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,t.exports=a},693:function(t,e,l){var a,i;l(668),a=l(387);var r=l(699);i=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(i=a=a.default),"function"==typeof i&&(i=i.options),i.render=r.render,i.staticRenderFns=r.staticRenderFns,t.exports=a},694:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"m-l-20 w-1100 detail"},[l("el-tabs",{staticClass:"w-1000",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[l("el-tab-pane",{attrs:{label:"清单列表",name:"first"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.cateData,border:""}},[l("el-table-column",{attrs:{label:"序号",align:"center",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){var a=(e.row,e.$index);return[l("span",[t._v(t._s(a+1))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"cate",label:"产品线",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"goods_num",label:"货号",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"product",label:"品名",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"brand",label:"品牌",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"model",label:"规格型号",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"unit",label:"单位",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"unit_price",label:"单价",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-input",{attrs:{size:"small",min:0,type:"number",disabled:e.row.isUnit},model:{value:e.row.unit_price,callback:function(l){t.$set(e.row,"unit_price",l)},expression:"scope.row.unit_price"}})]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isUnit?l("el-button",{attrs:{size:"small",loading:t.isLoading},nativeOn:{click:function(l){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]):l("el-button",{attrs:{size:"small",loading:t.isLoading},nativeOn:{click:function(l){t.handleCommit(e.$index,e.row)}}},[t._v("提交")]),t._v(" "),t.showBtn[t.$index]?t._e():l("el-button",{staticStyle:{display:"none"},attrs:{size:"small",type:"danger"},nativeOn:{click:function(l){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),l("el-tab-pane",{attrs:{label:"产品清单及报价",name:"second"}},[l("el-form",{ref:"formList",attrs:{model:t.formList,rules:t.listRules,"label-width":"110px"}},[l("el-form-item",{attrs:{label:"货号:",prop:"goods_num"}},[l("el-input",{staticClass:"h-40 w-300",model:{value:t.formList.goods_num,callback:function(e){t.$set(t.formList,"goods_num","string"==typeof e?e.trim():e)},expression:"formList.goods_num"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"品名:",prop:"product"}},[l("el-input",{staticClass:"h-40 w-300",model:{value:t.formList.product,callback:function(e){t.$set(t.formList,"product","string"==typeof e?e.trim():e)},expression:"formList.product"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"产品线:",prop:"cate"}},[l("el-select",{staticClass:"h-40 fl w-300",attrs:{placeholder:"请选择产品线"},model:{value:t.formList.cate,callback:function(e){t.$set(t.formList,"cate","string"==typeof e?e.trim():e)},expression:"formList.cate"}},[l("el-option",{attrs:{label:"IDS",value:"IDS"}}),t._v(" "),l("el-option",{attrs:{label:"ISTV",value:"ISTV"}}),t._v(" "),l("el-option",{attrs:{label:"RCU",value:"RCU"}}),t._v(" "),l("el-option",{attrs:{label:"HSIA",value:"HSIA"}}),t._v(" "),l("el-option",{attrs:{label:"WLAN",value:"WLAN"}}),t._v(" "),l("el-option",{attrs:{label:"O2O",value:"O2O"}}),t._v(" "),l("el-option",{attrs:{label:"运营",value:"运营"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"品牌:",prop:"brand"}},[l("el-input",{staticClass:"h-40 w-300",model:{value:t.formList.brand,callback:function(e){t.$set(t.formList,"brand","string"==typeof e?e.trim():e)},expression:"formList.brand"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"规格型号:",prop:"model"}},[l("el-input",{staticClass:"h-40 w-300",model:{value:t.formList.model,callback:function(e){t.$set(t.formList,"model","string"==typeof e?e.trim():e)},expression:"formList.model"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"单位:",prop:"unit"}},[l("el-input",{staticClass:"h-40 w-300",model:{value:t.formList.unit,callback:function(e){t.$set(t.formList,"unit","string"==typeof e?e.trim():e)},expression:"formList.unit"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"单价:",prop:"unit_price"}},[l("el-input",{staticClass:"h-40 w-300",model:{value:t.formList.unit_price,callback:function(e){t.$set(t.formList,"unit_price","string"==typeof e?e.trim():e)},expression:"formList.unit_price"}})],1),t._v(" "),l("el-form-item",[l("el-button",{staticClass:"p-l-40 p-r-40",attrs:{type:"primary",loading:t.isLoading},on:{click:function(e){t.addContractList("formList")}}},[t._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]}},695:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{attrs:{id:"app"}},[l("transition",{attrs:{name:"bounce"}},[l("router-view")],1)],1)},staticRenderFns:[]}},696:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("el-row",{staticClass:"panel m-w-1280"},[l("el-col",{staticClass:"panel-top",attrs:{span:24}},[l("el-col",{attrs:{span:20}},[l("span",{staticClass:"p-l-20"},[t._v("合同管理系统")])]),t._v(" "),l("el-col",{staticClass:"pos-rel",attrs:{span:4}},[l("el-dropdown",{staticClass:"user-menu",on:{command:t.handleMenu}},[l("span",{staticClass:"el-dropdown-link c-gra",staticStyle:{cursor:"default"}},[t._v("\n                    "+t._s(t.username)+"  "),l("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}})]),t._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",{attrs:{command:"changePwd"}},[t._v("修改密码")]),t._v(" "),l("el-dropdown-item",{attrs:{command:"logout"}},[t._v("退出")])],1)],1)],1)],1),t._v(" "),l("el-col",{staticClass:"panel-center",attrs:{span:24}},[l("aside",{directives:[{name:"show",rawName:"v-show",value:!t.showLeftMenu,expression:"!showLeftMenu"}],staticClass:"w-180 ovf-hd"},t._l(t.secMenu,function(e){return l("div",{staticClass:"h-50"},[l("div",{staticClass:"w-100p h-50 p-l-40 left-menu pointer j-white",class:{"j-blue":e.name==t.$route.name},on:{click:function(l){t.routerChange(e)}}},[l("i",{class:e.icon}),t._v(" "),l("span",{staticClass:"p-l-20 m-t-15"},[t._v(t._s(e.title))])])])})),t._v(" "),l("section",{staticClass:"panel-c-c",class:{"hide-leftMenu":t.hasChildMenu}},[l("div",{staticClass:"grid-content bg-purple-light"},[l("el-col",{attrs:{span:24}},[l("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[l("router-view")],1)],1)],1)])]),t._v(" "),l("changePwd",{attrs:{dialogVisible:t.showDialog},on:{"update:dialogVisible":function(e){t.showDialog=e}}})],1)},staticRenderFns:[]}},697:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"m-l-20 w-1100 detail"},["admin"==t.username&&4==this.formDetail.status?l("el-row",[l("el-button",{attrs:{disabled:t.isAudit},on:{click:t.cancelAudit}},[l("i",{staticClass:"el-icon-edit el-icon--left"}),t._v("取消审核")])],1):t._e(),t._v(" "),l("el-tabs",{staticClass:"w-1000",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[l("el-tab-pane",{attrs:{label:"基本详情",name:"first"}},[l("el-form",{staticClass:"demo-form-inline dynamic-form",attrs:{model:t.formDetail,inline:!0,"label-width":"100px"}},[l("el-form-item",{staticStyle:{display:"block"},attrs:{label:"编辑"}},[l("el-switch",{attrs:{disabled:4==this.formDetail.status&&"admin"!==t.username},on:{change:t.openEdit},model:{value:t.isEdit,callback:function(e){t.isEdit=e},expression:"isEdit"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"合同编号:"}},[l("el-input",{staticClass:"h-40 fl w-300",attrs:{disabled:!0},model:{value:t.formDetail.number,callback:function(e){t.$set(t.formDetail,"number","string"==typeof e?e.trim():e)},expression:"formDetail.number"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"查找编号:"}},[l("el-input",{staticClass:"h-40 fl w-300",attrs:{disabled:!0},model:{value:t.formDetail.find_num,callback:function(e){t.$set(t.formDetail,"find_num","string"==typeof e?e.trim():e)},expression:"formDetail.find_num"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"所属年度:"}},[l("el-col",{staticClass:"h-40 fl w-300"},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"year",disabled:!0},model:{value:t.formDetail.year,callback:function(e){t.$set(t.formDetail,"year",e)},expression:"formDetail.year"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"合同总价:"}},[l("el-input",{staticClass:"h-40 fl w-300",attrs:{disabled:!0},model:{value:t.formDetail.total_price,callback:function(e){t.$set(t.formDetail,"total_price","string"==typeof e?e.trim():e)},expression:"formDetail.total_price"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"合同税率:"}},[l("el-input",{staticClass:"h-40 fl w-300",attrs:{disabled:t.isDisabled},model:{value:t.formDetail.tax_rate,callback:function(e){t.$set(t.formDetail,"tax_rate","string"==typeof e?e.trim():e)},expression:"formDetail.tax_rate"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"合同类别:"}},[l("el-input",{staticClass:"h-40 fl w-300",attrs:{disabled:t.isZancun},model:{value:t.formDetail.category,callback:function(e){t.$set(t.formDetail,"category","string"==typeof e?e.trim():e)},expression:"formDetail.category"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"合同甲方:"}},[l("el-input",{staticClass:"h-40 w-300",attrs:{disabled:t.isZancun},model:{value:t.formDetail.party_a,callback:function(e){t.$set(t.formDetail,"party_a","string"==typeof e?e.trim():e)},expression:"formDetail.party_a"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"第三方:"}},[l("el-input",{staticClass:"h-40 w-300",attrs:{disabled:t.isZancun},model:{value:t.formDetail.thirdparty,callback:function(e){t.$set(t.formDetail,"thirdparty","string"==typeof e?e.trim():e)},expression:"formDetail.thirdparty"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"酒店集团:"}},[l("el-input",{staticClass:"h-40 w-300",attrs:{disabled:t.isDisabled},model:{value:t.formDetail.group,callback:function(e){t.$set(t.formDetail,"group","string"==typeof e?e.trim():e)},expression:"formDetail.group"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"酒店名字:"}},[l("el-input",{staticClass:"h-40 w-300",attrs:{disabled:t.isDisabled},model:{value:t.formDetail.hotel,callback:function(e){t.$set(t.formDetail,"hotel",e)},expression:"formDetail.hotel"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"项目验收时间:"}},[l("el-col",{staticClass:"h-40 fl w-300"},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期",disabled:t.isDisabled},model:{value:t.formDetail.check_time,callback:function(e){t.$set(t.formDetail,"check_time",e)},expression:"formDetail.check_time"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"合同终止时间:"}},[l("el-col",{staticClass:"h-40 fl w-300"},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期",disabled:t.isDisabled},model:{value:t.formDetail.stop_time,callback:function(e){t.$set(t.formDetail,"stop_time",e)},expression:"formDetail.stop_time"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"服务开始时间:"}},[l("el-col",{staticClass:"h-40 fl w-300"},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期",disabled:t.isDisabled},model:{value:t.formDetail.begin_time,callback:function(e){t.$set(t.formDetail,"begin_time",e)},expression:"formDetail.begin_time"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"服务结束时间:"}},[l("el-col",{staticClass:"h-40 fl w-300"},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期",disabled:t.isDisabled},model:{value:t.formDetail.end_time,callback:function(e){t.$set(t.formDetail,"end_time",e)},expression:"formDetail.end_time"}})],1)],1),t._v(" "),l("el-form-item",{staticStyle:{display:"block"}},[l("el-button",{staticClass:"p-l-30 p-r-30",attrs:{type:"primary",loading:t.isLoading},on:{click:t.editContractInfo}},[t._v("提交")])],1)],1)],1),t._v(" "),l("el-tab-pane",{attrs:{label:"合同清单",name:"second"}},[l("el-form",{ref:"formContract",attrs:{model:t.formContract,rules:t.contractRules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"收入分类:"}},[l("el-radio-group",{model:{value:t.defaultRadio,callback:function(e){t.defaultRadio=e},expression:"defaultRadio"}},[l("el-radio",{attrs:{label:1}},[t._v("硬件产品")]),t._v(" "),l("el-radio",{attrs:{label:2}},[t._v("软件产品")]),t._v(" "),l("el-radio",{attrs:{label:3}},[t._v("安装调试")]),t._v(" "),l("el-radio",{attrs:{label:4}},[t._v("服务")]),t._v(" "),l("el-radio",{attrs:{label:5}},[t._v("其他")])],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"货号:",prop:"goods_num"}},[l("el-input",{staticClass:"h-40 fl w-300",model:{value:t.formContract.goods_num,callback:function(e){t.$set(t.formContract,"goods_num","string"==typeof e?e.trim():e)},expression:"formContract.goods_num"}}),t._v(" "),l("el-button",{on:{click:function(e){e.preventDefault(),t.loadAll("1")}}},[t._v("查找")])],1),t._v(" "),l("el-form-item",{attrs:{label:"品名:",prop:"product"}},[l("el-input",{staticClass:"h-40 fl w-300",model:{value:t.formContract.product,callback:function(e){t.$set(t.formContract,"product","string"==typeof e?e.trim():e)},expression:"formContract.product"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"产品线:",prop:"cate"}},[l("el-input",{staticClass:"h-40 fl w-300",model:{value:t.formContract.cate,callback:function(e){t.$set(t.formContract,"cate","string"==typeof e?e.trim():e)},expression:"formContract.cate"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"品牌:",prop:"brand"}},[l("el-input",{staticClass:"h-40 w-300",model:{value:t.formContract.brand,callback:function(e){t.$set(t.formContract,"brand","string"==typeof e?e.trim():e)},expression:"formContract.brand"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"规格型号:",prop:"model"}},[l("el-input",{staticClass:"h-40 w-300",model:{value:t.formContract.model,callback:function(e){t.$set(t.formContract,"model","string"==typeof e?e.trim():e)},expression:"formContract.model"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"单位:",prop:"unit"}},[l("el-input",{staticClass:"h-40 w-300",model:{value:t.formContract.unit,callback:function(e){t.$set(t.formContract,"unit","string"==typeof e?e.trim():e)},expression:"formContract.unit"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"单价:",prop:"unit_price"}},[l("el-input",{staticClass:"h-40 w-300",attrs:{min:1},model:{value:t.formContract.unit_price,callback:function(e){t.$set(t.formContract,"unit_price","string"==typeof e?e.trim():e)},expression:"formContract.unit_price"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"数量:",prop:"amount"}},[l("el-input-number",{attrs:{label:"描述文字",min:1},model:{value:t.formContract.amount,callback:function(e){t.$set(t.formContract,"amount",e)},expression:"formContract.amount"}})],1),t._v(" "),l("el-form-item",[l("el-button",{staticClass:"p-l-40 p-r-40",attrs:{type:"primary"},on:{click:function(e){t.addContract()}}},[t._v("添加")])],1)],1),t._v(" "),l("el-row",{staticStyle:{"margin-bottom":"10px","text-align":"right",display:"none"}},[l("el-button",[l("i",{staticClass:"el-icon-download el-icon--left"}),t._v("下载")])],1),t._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableContractData,border:""}},[l("el-table-column",{attrs:{prop:"type",label:"收入分类",width:"120"}}),t._v(" "),l("el-table-column",{attrs:{label:"产品类别"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-input",{attrs:{size:"small"},model:{value:e.row.cate,callback:function(l){t.$set(e.row,"cate",l)},expression:"scope.row.cate"}})]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"goods_num",label:"货号"}}),t._v(" "),l("el-table-column",{attrs:{prop:"product",label:"品名"}}),t._v(" "),l("el-table-column",{attrs:{prop:"brand",label:"品牌"}}),t._v(" "),l("el-table-column",{attrs:{prop:"model",label:"规格型号"}}),t._v(" "),l("el-table-column",{attrs:{prop:"unit",label:"单位"}}),t._v(" "),l("el-table-column",{attrs:{prop:"amount",label:"数量"}}),t._v(" "),l("el-table-column",{attrs:{prop:"unit_price",label:"单价"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-input",{attrs:{size:"small",min:0,type:"number"},model:{value:e.row.unit_price,callback:function(l){t.$set(e.row,"unit_price",l)},expression:"scope.row.unit_price"}})]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(l){t.handleContractDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),l("el-row",{staticClass:"m-t-10"},[l("el-button",{staticClass:"p-l-40 p-r-40",attrs:{type:"primary"},on:{click:t.editContractList}},[t._v("确认修改")])],1)],1),t._v(" "),l("el-tab-pane",{attrs:{label:"发票列表",name:"third"}},[l("el-form",{ref:"formBill",attrs:{model:t.formBill,"label-width":"80px"}},[l("el-form-item",{attrs:{label:"时间选择:"}},[l("el-col",{staticClass:"fl date-ml"},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"year",placeholder:"年度"},model:{value:t.formBill.date,callback:function(e){t.$set(t.formBill,"date",e)},expression:"formBill.date"}})],1),t._v(" "),l("el-select",{staticClass:"fl selet-quarter",attrs:{placeholder:"选择季度"},model:{value:t.formBill.quarter,callback:function(e){t.$set(t.formBill,"quarter",e)},expression:"formBill.quarter"}},[l("el-option",{attrs:{label:"Q1",value:"Q1"}}),t._v(" "),l("el-option",{attrs:{label:"Q2",value:"Q2"}}),t._v(" "),l("el-option",{attrs:{label:"Q3",value:"Q3"}}),t._v(" "),l("el-option",{attrs:{label:"Q4",value:"Q4"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"价税合计:"}},[l("el-col",{staticClass:"line",attrs:{span:1}},[t._v("17%:")]),t._v(" "),l("el-col",{staticClass:"line m-r-30",attrs:{span:4}},[l("el-input",{attrs:{min:0,type:"number"},on:{input:function(e){t.changeAll17(t.formBill.billAll17)}},model:{value:t.formBill.billAll17,callback:function(e){t.$set(t.formBill,"billAll17","string"==typeof e?e.trim():e)},expression:"formBill.billAll17"}})],1),t._v(" "),l("el-col",{staticClass:"line",attrs:{span:1}},[t._v("6%:")]),t._v(" "),l("el-col",{staticClass:"line m-r-30",attrs:{span:4}},[l("el-input",{attrs:{min:0,type:"number"},on:{input:function(e){t.changeAll06(t.formBill.billAll06)}},model:{value:t.formBill.billAll06,callback:function(e){t.$set(t.formBill,"billAll06","string"==typeof e?e.trim():e)},expression:"formBill.billAll06"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"不含税额:"}},[l("el-col",{staticClass:"line",attrs:{span:1}},[t._v("17%:")]),t._v(" "),l("el-col",{staticClass:"line m-r-30",attrs:{span:4}},[l("el-input",{attrs:{min:0,type:"number"},on:{input:function(e){t.changeNoTax17(t.formBill.billNoTax17)}},model:{value:t.formBill.billNoTax17,callback:function(e){t.$set(t.formBill,"billNoTax17","string"==typeof e?e.trim():e)},expression:"formBill.billNoTax17"}})],1),t._v(" "),l("el-col",{staticClass:"line",attrs:{span:1}},[t._v("6%:")]),t._v(" "),l("el-col",{staticClass:"line m-r-30",attrs:{span:4}},[l("el-input",{attrs:{min:0,type:"number"},on:{input:function(e){t.changeNoTax06(t.formBill.billNoTax06)}},model:{value:t.formBill.billNoTax06,callback:function(e){t.$set(t.formBill,"billNoTax06","string"==typeof e?e.trim():e)},expression:"formBill.billNoTax06"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"税额:"}},[l("el-col",{staticClass:"line",attrs:{span:1}},[t._v("17%:")]),t._v(" "),l("el-col",{staticClass:"line m-r-30",attrs:{span:4}},[l("el-input",{attrs:{disabled:!0},model:{value:t.formBill.billTax17,callback:function(e){t.$set(t.formBill,"billTax17","string"==typeof e?e.trim():e)},expression:"formBill.billTax17"}})],1),t._v(" "),l("el-col",{staticClass:"line",attrs:{span:1}},[t._v("6%:")]),t._v(" "),l("el-col",{staticClass:"line m-r-30",attrs:{span:4}},[l("el-input",{attrs:{disabled:!0},model:{value:t.formBill.billTax06,callback:function(e){t.$set(t.formBill,"billTax06","string"==typeof e?e.trim():e)},expression:"formBill.billTax06"}})],1)],1),t._v(" "),l("el-form-item",[l("el-button",{staticClass:"p-l-40 p-r-40",attrs:{type:"primary"},on:{click:function(e){t.addBill()}}},[t._v("添加")])],1)],1),t._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableBillData,"summary-method":t.getSummaries,"show-summary":"",border:""}},[l("el-table-column",{attrs:{prop:"check_time",label:"时间段",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"billAll",label:"价税合计",align:"center"}},[l("el-table-column",{attrs:{prop:"billAll17",label:"17%",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"billAll06",label:"6%",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"billAll0",label:"小计",width:"100",align:"center"}})],1),t._v(" "),l("el-table-column",{attrs:{prop:"billNoTax",label:"不含税额",align:"center"}},[l("el-table-column",{attrs:{prop:"billNoTax17",label:"17%",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"billNoTax06",label:"6%",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"billNoTax0",label:"小计",width:"100",align:"center"}})],1),t._v(" "),l("el-table-column",{attrs:{prop:"billTax",label:"税额",align:"center"}},[l("el-table-column",{attrs:{prop:"billTax17",label:"17%",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"billTax06",label:"6%",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"billTax0",label:"小计",width:"100",align:"center"}})],1),t._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(l){t.handleBillDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),l("el-row",{staticClass:"m-t-10"},[l("el-button",{staticClass:"p-l-40 p-r-40",attrs:{type:"primary"},on:{click:t.editBillContract}},[t._v("确认修改")])],1)],1)],1)],1)},staticRenderFns:[]}},698:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("el-form",{ref:"form",staticClass:"demo-ruleForm card-box loginform",attrs:{model:t.form,rules:t.rules2,"label-position":"left","label-width":"0px"}},[l("h3",{staticClass:"title"},[t._v("合同管理系统")]),t._v(" "),l("el-form-item",{attrs:{prop:"username"}},[l("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),l("el-form-item",{attrs:{prop:"password"}},[l("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.requireVerify,expression:"requireVerify"}],attrs:{prop:"verifyCode"}},[l("el-input",{staticClass:"w-150",attrs:{type:"text","auto-complete":"off",placeholder:"验证码"
},model:{value:t.form.verifyCode,callback:function(e){t.$set(t.form,"verifyCode",e)},expression:"form.verifyCode"}}),t._v(" "),l("img",{staticClass:"verify-pos",attrs:{src:t.verifyUrl},on:{click:function(e){t.refreshVerify()}}})],1),t._v(" "),l("el-checkbox",{staticStyle:{margin:"0px 0px 35px 0px",display:"none"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("记住密码")]),t._v(" "),l("el-form-item",{staticStyle:{width:"100%"}},[l("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{type:"primary"},nativeOn:{click:function(e){e.preventDefault(),t.handleSubmit2("form")}}},[t._v("登录\n            ")])],1)],1)],1)},staticRenderFns:[]}},699:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"m-l-20 w-1100 result"},[l("el-form",{staticClass:"demo-form-inline",attrs:{model:t.formTab,inline:!0}},[l("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"时间选择:"}},[l("el-col",{attrs:{span:8}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"month",placeholder:"选择开始日期"},model:{value:t.from_time,callback:function(e){t.from_time=e},expression:"from_time"}})],1),t._v(" "),l("el-col",{staticClass:"line",attrs:{span:1,align:"center"}},[t._v("-")]),t._v(" "),l("el-col",{attrs:{span:8}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"month",placeholder:"选择结束日期"},model:{value:t.to_time,callback:function(e){t.to_time=e},expression:"to_time"}})],1),t._v(" "),l("el-col",{staticClass:"line",staticStyle:{"text-indent":"20px",color:"#ccc"},attrs:{span:7}},[t._v("请以季度的范围筛选")])],1),t._v(" "),l("el-form-item",{attrs:{label:"合同状态:"}},[l("el-select",{staticClass:"h-40 w-200",attrs:{placeholder:"活动区域"},model:{value:t.formTab.status,callback:function(e){t.$set(t.formTab,"status",e)},expression:"formTab.status"}},[l("el-option",{attrs:{label:"全部",value:"0"}}),t._v(" "),l("el-option",{attrs:{label:"暂存",value:"1"}}),t._v(" "),l("el-option",{attrs:{label:"未验收",value:"2"}}),t._v(" "),l("el-option",{attrs:{label:"未审核",value:"3"}}),t._v(" "),l("el-option",{attrs:{label:"已审核",value:"4"}}),t._v(" "),l("el-option",{attrs:{label:"已终止",value:"5"}}),t._v(" "),l("el-option",{attrs:{label:"调整项",value:"6"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"合同编号:"}},[l("el-input",{staticClass:"h-40 fl w-200",model:{value:t.formTab.number,callback:function(e){t.$set(t.formTab,"number","string"==typeof e?e.trim():e)},expression:"formTab.number"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"产品线:"}},[l("el-select",{staticClass:"h-40 fl w-200",attrs:{placeholder:"请选择产品线"},model:{value:t.formTab.product,callback:function(e){t.$set(t.formTab,"product","string"==typeof e?e.trim():e)},expression:"formTab.product"}},[l("el-option",{attrs:{label:"IDS",value:"IDS"}}),t._v(" "),l("el-option",{attrs:{label:"ISTV",value:"ISTV"}}),t._v(" "),l("el-option",{attrs:{label:"RCU",value:"RCU"}}),t._v(" "),l("el-option",{attrs:{label:"HSIA",value:"HSIA"}}),t._v(" "),l("el-option",{attrs:{label:"WLAN",value:"WLAN"}}),t._v(" "),l("el-option",{attrs:{label:"O2O",value:"O2O"}}),t._v(" "),l("el-option",{attrs:{label:"运营",value:"运营"}})],1)],1),t._v(" "),l("el-form-item",{staticStyle:{display:"block"}},[l("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1),t._v(" "),l("el-row",{staticStyle:{"text-align":"right","margin-bottom":"10px"}},[l("el-button",[l("i",{staticClass:"el-icon-download el-icon--left",on:{click:t.downloadResult}}),t._v("下载")])],1),t._v(" "),l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.resultData,"summary-method":t.getSummaries,"show-summary":"",border:""},on:{"selection-change":t.handleSelectionChange}},[l("el-table-column",{attrs:{align:"center",type:"selection",selectable:t.checkboxInit,width:"55"}}),t._v(" "),l("el-table-column",{attrs:{prop:"number",label:"合同编号",height:"60","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block",color:"#00f",cursor:"pointer"},on:{click:function(l){t.rowTitLink(e.row)}}},[t._v(t._s(e.row.number))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"year",label:"合同年度",height:"60","show-overflow-tooltip":"",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"category",label:"合同类别",height:"60","show-overflow-tooltip":"",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"party_a",label:"合同甲方",height:"60","show-overflow-tooltip":"",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"thirdparty",label:"第三方",height:"60","show-overflow-tooltip":"",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"hotel",label:"酒店名字",height:"60","show-overflow-tooltip":"",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{label:"分摊价",height:"60",align:"center"}},[l("el-table-column",{attrs:{prop:"total_price",label:"合同总价","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{class:{errText:e.row.total_price>e.row.service_price},staticStyle:{display:"block","text-align":"right",color:"#047ce2"}},[t._v(t._s(t._f("NumFormat")(e.row.total_price)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"all_tax_price",label:"税金","min-width":"100",height:"30",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right",color:"#047ce2"}},[t._v(t._s(t._f("NumFormat")(e.row.all_tax_price)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"all_hardware_price",label:"硬件","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right",color:"#047ce2"}},[t._v(t._s(t._f("NumFormat")(e.row.all_hardware_price)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"all_software_price",label:"软件","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right",color:"#047ce2"}},[t._v(t._s(t._f("NumFormat")(e.row.all_software_price)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"all_install_price",label:"安装","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right",color:"#047ce2"}},[t._v(t._s(t._f("NumFormat")(e.row.all_install_price)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"all_serve_price",label:"服务","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right",color:"#047ce2"}},[t._v(t._s(t._f("NumFormat")(e.row.all_serve_price)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"all_other_price",label:"其他","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right",color:"#047ce2"}},[t._v(t._s(t._f("NumFormat")(e.row.all_other_price)))])]}}])})],1),t._v(" "),l("el-table-column",{attrs:{label:"收入确认",height:"60",align:"center"}},[l("el-table-column",{attrs:{prop:"hardware_price",label:"硬件","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right",color:"#ffa500"}},[t._v(t._s(t._f("NumFormat")(e.row.hardware_price)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"software_price",label:"软件","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right",color:"#ffa500"}},[t._v(t._s(t._f("NumFormat")(e.row.software_price)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"install_price",label:"安装","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right",color:"#ffa500"}},[t._v(t._s(t._f("NumFormat")(e.row.install_price)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"serve_price",label:"服务","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right",color:"#ffa500"}},[t._v(t._s(t._f("NumFormat")(e.row.serve_price)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"other_price",label:"其他","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right",color:"#ffa500"}},[t._v(t._s(t._f("NumFormat")(e.row.other_price)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"contract_price",label:"合计","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right",color:"#ffa500"}},[t._v(t._s(t._f("NumFormat")(e.row.contract_price)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"tax_price",label:"税金","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right",color:"#ffa500"}},[t._v(t._s(t._f("NumFormat")(e.row.tax_price)))])]}}])})],1),t._v(" "),l("el-table-column",{attrs:{label:"发票开具(价税总额)",height:"60",align:"center"}},[l("el-table-column",{attrs:{prop:"bill_info.billAll17",label:"17%","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right"}},[t._v(t._s(t._f("NumFormat")(e.row.bill_info.billAll17)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"bill_info.billAll06",label:"6%","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right"}},[t._v(t._s(t._f("NumFormat")(e.row.bill_info.billAll06)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"bill_info.billAll0",label:"小计","min-width":"100",height:"30","show-overflow-tooltip":"",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right"}},[t._v(t._s(t._f("NumFormat")(e.row.bill_info.billAll0)))])]}}])})],1),t._v(" "),l("el-table-column",{attrs:{label:"发票(不含税额)",height:"60",align:"center"}},[l("el-table-column",{attrs:{prop:"bill_info.billNoTax17",label:"17%","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right"}},[t._v(t._s(t._f("NumFormat")(e.row.bill_info.billNoTax17)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"bill_info.billNoTax06",label:"6%","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right"}},[t._v(t._s(t._f("NumFormat")(e.row.bill_info.billNoTax06)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"bill_info.billNoTax0",label:"小计","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right"}},[t._v(t._s(t._f("NumFormat")(e.row.bill_info.billNoTax0)))])]}}])})],1),t._v(" "),l("el-table-column",{attrs:{label:"发票(税额)",height:"60",align:"center"}},[l("el-table-column",{attrs:{prop:"bill_info.billTax17",label:"17%","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right"}},[t._v(t._s(t._f("NumFormat")(e.row.bill_info.billTax17)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"bill_info.billTax06",label:"6%","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right"}},[t._v(t._s(t._f("NumFormat")(e.row.bill_info.billTax06)))])]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"bill_info.billTax0",label:"小计","min-width":"100",height:"30","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticStyle:{display:"block","text-align":"right"}},[t._v(t._s(t._f("NumFormat")(e.row.bill_info.billTax0)))])]}}])})],1)],1),t._v(" "),l("el-pagination",{staticClass:"h-40 m-t-30",attrs:{"current-page":t.page,"page-sizes":[10,20,50,80,100],"page-size":10,background:"",layout:"total, sizes, prev, pager, next",total:t.page_total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.page=e}}}),t._v(" "),l("div",{staticStyle:{"margin-top":"20px"}},[l("el-button",{staticClass:"p-l-40 p-r-40",attrs:{type:"primary"},on:{click:t.sendSelection}},[t._v("送审")])],1)],1)},staticRenderFns:[]}},700:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"m-l-30 w-1100 edit"},[l("el-tabs",{staticClass:"w-1000",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[l("el-tab-pane",{attrs:{label:"基本录入",name:"first"}},[l("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"110px"}},[l("el-form-item",{attrs:{label:"合同所属年度:",prop:"year"}},[l("el-col",{staticClass:"h-40 fl w-300"},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"year",placeholder:"选择日期"},model:{value:t.form.year,callback:function(e){t.$set(t.form,"year",e)},expression:"form.year"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"合同编号:",prop:"number"}},[l("el-input",{staticClass:"h-40 fl w-300",model:{value:t.form.number,callback:function(e){t.$set(t.form,"number","string"==typeof e?e.trim():e)},expression:"form.number"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"查找编号:",prop:"find_num"}},[l("el-input",{staticClass:"h-40 fl w-300",model:{value:t.form.find_num,callback:function(e){t.$set(t.form,"find_num","string"==typeof e?e.trim():e)},expression:"form.find_num"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"合同类别:",prop:"category"}},[l("el-autocomplete",{staticClass:"inline-input w-300",attrs:{"fetch-suggestions":t.querySearchCate,placeholder:"请输入合同类别"},on:{select:t.handleSelect},model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"合同甲方:",prop:"party_a"}},[l("el-input",{staticClass:"h-40 w-300",model:{value:t.form.party_a,callback:function(e){t.$set(t.form,"party_a","string"==typeof e?e.trim():e)},expression:"form.party_a"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"第三方:"}},[l("el-input",{staticClass:"h-40 w-300",model:{value:t.form.thirdparty,callback:function(e){t.$set(t.form,"thirdparty","string"==typeof e?e.trim():e)},expression:"form.thirdparty"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"酒店集团:",prop:"group"}},[l("el-input",{staticClass:"h-40 w-300",model:{value:t.form.group,callback:function(e){t.$set(t.form,"group","string"==typeof e?e.trim():e)},expression:"form.group"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"酒店名字:",prop:"hotel"}},[l("el-input",{staticClass:"h-40 w-300",model:{value:t.form.hotel,callback:function(e){t.$set(t.form,"hotel","string"==typeof e?e.trim():e)},expression:"form.hotel"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"合同总价:",prop:"total_price"}},[l("el-input",{staticClass:"h-40 w-300",attrs:{type:"number"},model:{value:t.form.total_price,callback:function(e){t.$set(t.form,"total_price","string"==typeof e?e.trim():e)},expression:"form.total_price"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"合同税率:",prop:"tax_rate"}},[l("el-input",{staticClass:"h-40 w-80",model:{value:t.form.tax_rate,callback:function(e){t.$set(t.form,"tax_rate","string"==typeof e?e.trim():e)},expression:"form.tax_rate"}}),t._v(" "),l("span",[t._v("%")])],1),t._v(" "),l("el-form-item",{attrs:{label:"项目验收时间:"}},[l("el-col",{staticClass:"h-40 fl w-300"},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.check_time,callback:function(e){t.$set(t.form,"check_time",e)},expression:"form.check_time"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"服务开始时间:"}},[l("el-col",{staticClass:"h-40 fl w-300"},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.begin_time,callback:function(e){t.$set(t.form,"begin_time",e)},expression:"form.begin_time"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"服务结束时间:"}},[l("el-col",{staticClass:"h-40 fl w-300"},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.end_time,callback:function(e){t.$set(t.form,"end_time",e)},expression:"form.end_time"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"合同清单:"}},[t.isContract?l("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){t.activeName="second"}}},[t._v(t._s(t.contractText))]):l("el-button",{attrs:{type:"danger",plain:""},on:{click:function(e){t.activeName="second"}}},[t._v(t._s(t.contractText))])],1),t._v(" "),l("el-form-item",{attrs:{label:"发票信息:"}},[l("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.activeName="third"}}},[t._v(t._s(t.invoiceInfoText))])],1),t._v(" "),l("el-form-item",[l("el-button",{staticClass:"p-l-40 p-r-40",attrs:{type:"primary",loading:t.isLoading},on:{click:function(e){t.commitContract()}}},[t._v("提交")]),t._v(" "),l("el-button",{staticClass:"p-l-40 p-r-40",attrs:{type:"primary",plain:"",loading:t.isLoading},on:{click:function(e){t.commitContract("1")}}},[t._v("暂存")])],1)],1)],1),t._v(" "),l("el-tab-pane",{attrs:{label:"合同清单",name:"second"}},[l("el-form",{ref:"formContract",attrs:{model:t.formContract,rules:t.contractRules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"收入分类:"}},[l("el-radio-group",{model:{value:t.defaultRadio,callback:function(e){t.defaultRadio=e},expression:"defaultRadio"}},[l("el-radio",{attrs:{label:1}},[t._v("硬件产品")]),t._v(" "),l("el-radio",{attrs:{label:2}},[t._v("软件产品")]),t._v(" "),l("el-radio",{attrs:{label:3}},[t._v("安装调试")]),t._v(" "),l("el-radio",{attrs:{label:4}},[t._v("服务")]),t._v(" "),l("el-radio",{attrs:{label:5}},[t._v("其他")])],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"货号:",prop:"goods_num"}},[l("el-input",{staticClass:"h-40 fl w-300",model:{value:t.formContract.goods_num,callback:function(e){t.$set(t.formContract,"goods_num","string"==typeof e?e.trim():e)},expression:"formContract.goods_num"}}),t._v(" "),l("el-button",{on:{click:function(e){e.preventDefault(),t.loadAll("1")}}},[t._v("查找")])],1),t._v(" "),l("el-form-item",{attrs:{label:"品名:",prop:"product"}},[l("el-input",{staticClass:"h-40 fl w-300",model:{value:t.formContract.product,callback:function(e){t.$set(t.formContract,"product","string"==typeof e?e.trim():e)},expression:"formContract.product"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"产品线:",prop:"cate"}},[l("el-input",{staticClass:"h-40 fl w-300",model:{value:t.formContract.cate,callback:function(e){t.$set(t.formContract,"cate","string"==typeof e?e.trim():e)},expression:"formContract.cate"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"品牌:",prop:"brand"}},[l("el-input",{staticClass:"h-40 w-300",model:{value:t.formContract.brand,callback:function(e){t.$set(t.formContract,"brand","string"==typeof e?e.trim():e)},expression:"formContract.brand"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"规格型号:",prop:"model"}},[l("el-input",{staticClass:"h-40 w-300",model:{value:t.formContract.model,callback:function(e){t.$set(t.formContract,"model","string"==typeof e?e.trim():e)},expression:"formContract.model"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"单位:",prop:"unit"}},[l("el-input",{staticClass:"h-40 w-300",model:{value:t.formContract.unit,callback:function(e){t.$set(t.formContract,"unit","string"==typeof e?e.trim():e)},expression:"formContract.unit"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"单价:",prop:"unit_price"}},[l("el-input",{staticClass:"h-40 w-300",attrs:{min:1},model:{value:t.formContract.unit_price,callback:function(e){t.$set(t.formContract,"unit_price","string"==typeof e?e.trim():e)},expression:"formContract.unit_price"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"数量:",prop:"amount"}},[l("el-input-number",{attrs:{label:"描述文字",min:1},model:{value:t.formContract.amount,callback:function(e){t.$set(t.formContract,"amount",e)},expression:"formContract.amount"}})],1),t._v(" "),l("el-form-item",[l("el-button",{staticClass:"p-l-40 p-r-40",attrs:{type:"primary"},on:{click:function(e){t.addContract()}}},[t._v("添加")])],1)],1),t._v(" "),l("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,border:""}},[l("el-table-column",{attrs:{prop:"name",label:"收入分类",width:"120"}}),t._v(" "),l("el-table-column",{attrs:{prop:"cate",label:"产品类别"}}),t._v(" "),l("el-table-column",{attrs:{prop:"goods_num",label:"货号"}}),t._v(" "),l("el-table-column",{attrs:{prop:"product",label:"品名"}}),t._v(" "),l("el-table-column",{attrs:{prop:"brand",label:"品牌"}}),t._v(" "),l("el-table-column",{attrs:{prop:"model",label:"规格型号"}}),t._v(" "),l("el-table-column",{attrs:{prop:"unit",label:"单位"}}),t._v(" "),l("el-table-column",{attrs:{prop:"amount",label:"数量"}}),t._v(" "),l("el-table-column",{attrs:{prop:"unit_price",label:"单价"}}),t._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(l){t.handleContractDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),l("el-row",[l("el-button",{staticClass:"m-t-20 p-l-40 p-r-40",attrs:{type:"primary"},on:{click:function(e){t.keepContract()}}},[t._v("提交")])],1)],1),t._v(" "),l("el-tab-pane",{attrs:{label:"发票信息",name:"third"}},[l("el-form",{ref:"formBill",attrs:{model:t.formBill,"label-width":"80px"}},[l("el-form-item",{attrs:{label:"时间选择:"}},[l("el-col",{staticClass:"fl date-ml"},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"year",placeholder:"年度"},model:{value:t.formBill.date,callback:function(e){t.$set(t.formBill,"date",e)},expression:"formBill.date"}})],1),t._v(" "),l("el-select",{staticClass:"fl selet-quarter",attrs:{placeholder:"选择季度"},model:{value:t.formBill.quarter,callback:function(e){t.$set(t.formBill,"quarter",e)},expression:"formBill.quarter"}},[l("el-option",{attrs:{label:"Q1",value:"Q1"}}),t._v(" "),l("el-option",{attrs:{label:"Q2",value:"Q2"}}),t._v(" "),l("el-option",{attrs:{label:"Q3",value:"Q3"}}),t._v(" "),l("el-option",{attrs:{label:"Q4",value:"Q4"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"价税合计:"}},[l("el-col",{staticClass:"line",attrs:{span:1}},[t._v("17%:")]),t._v(" "),l("el-col",{staticClass:"line m-r-30",attrs:{span:4}},[l("el-input",{attrs:{min:0,type:"number"},on:{input:function(e){t.changeAll17(t.formBill.billAll17)}},model:{value:t.formBill.billAll17,callback:function(e){t.$set(t.formBill,"billAll17","string"==typeof e?e.trim():e)},expression:"formBill.billAll17"}})],1),t._v(" "),l("el-col",{staticClass:"line",attrs:{span:1}},[t._v("6%:")]),t._v(" "),l("el-col",{staticClass:"line m-r-30",attrs:{span:4}},[l("el-input",{attrs:{min:0,type:"number"},on:{input:function(e){t.changeAll06(t.formBill.billAll06)}},model:{value:t.formBill.billAll06,callback:function(e){t.$set(t.formBill,"billAll06","string"==typeof e?e.trim():e)},expression:"formBill.billAll06"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"不含税额:"}},[l("el-col",{staticClass:"line",attrs:{span:1}},[t._v("17%:")]),t._v(" "),l("el-col",{staticClass:"line m-r-30",attrs:{span:4}},[l("el-input",{attrs:{min:0,type:"number"},on:{input:function(e){t.changeNoTax17(t.formBill.billNoTax17)}},model:{value:t.formBill.billNoTax17,callback:function(e){t.$set(t.formBill,"billNoTax17","string"==typeof e?e.trim():e)},expression:"formBill.billNoTax17"}})],1),t._v(" "),l("el-col",{staticClass:"line",attrs:{span:1}},[t._v("6%:")]),t._v(" "),l("el-col",{staticClass:"line m-r-30",attrs:{span:4}},[l("el-input",{attrs:{min:0,type:"number"},on:{input:function(e){t.changeNoTax06(t.formBill.billNoTax06)}},model:{value:t.formBill.billNoTax06,callback:function(e){t.$set(t.formBill,"billNoTax06","string"==typeof e?e.trim():e)},expression:"formBill.billNoTax06"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"税额:"}},[l("el-col",{staticClass:"line",attrs:{span:1}},[t._v("17%:")]),t._v(" "),l("el-col",{staticClass:"line m-r-30",attrs:{span:4}},[l("el-input",{attrs:{disabled:!0},model:{value:t.formBill.billTax17,callback:function(e){t.$set(t.formBill,"billTax17","string"==typeof e?e.trim():e)},expression:"formBill.billTax17"}})],1),t._v(" "),l("el-col",{staticClass:"line",attrs:{span:1}},[t._v("6%:")]),t._v(" "),l("el-col",{staticClass:"line m-r-30",attrs:{span:4}},[l("el-input",{attrs:{disabled:!0},model:{value:t.formBill.billTax06,callback:function(e){t.$set(t.formBill,"billTax06","string"==typeof e?e.trim():e)},expression:"formBill.billTax06"}})],1)],1),t._v(" "),l("el-form-item",[l("el-button",{staticClass:"p-l-40 p-r-40",attrs:{type:"primary"},on:{click:function(e){t.addBill()}}},[t._v("添加")])],1)],1),t._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableBillData,"summary-method":t.getSummaries,"show-summary":"",border:""}},[l("el-table-column",{attrs:{prop:"timeText",label:"时间段",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"billAll",label:"价税合计",align:"center"}},[l("el-table-column",{attrs:{prop:"billAll17",label:"17%",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"billAll06",label:"6%",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"billAll0",label:"小计",width:"100",align:"center"}})],1),t._v(" "),l("el-table-column",{attrs:{prop:"billNoTax",label:"不含税额",align:"center"}},[l("el-table-column",{attrs:{prop:"billNoTax17",label:"17%",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"billNoTax06",label:"6%",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"billNoTax0",label:"小计",width:"100",align:"center"}})],1),t._v(" "),l("el-table-column",{attrs:{prop:"billTax",label:"税额",align:"center"}},[l("el-table-column",{attrs:{prop:"billTax17",label:"17%",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"billTax06",label:"6%",width:"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"billTax0",label:"小计",width:"100",align:"center"}})],1),t._v(" "),l("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(l){t.handleBillDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),l("el-row",[l("el-button",{staticClass:"m-t-20 p-l-40 p-r-40",attrs:{type:"primary"},on:{click:function(e){t.keepBill()}}},[t._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]}},701:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("el-dialog",{attrs:{visible:t.isShow,"custom-class":"w-400 h-300",title:"修改密码"},on:{"update:visible":function(e){t.isShow=e}}},[l("div",{staticClass:"ovf-auto"},[l("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[l("el-form-item",{attrs:{label:"旧密码",prop:"old_pwd"}},[l("el-input",{model:{value:t.form.old_pwd,callback:function(e){t.$set(t.form,"old_pwd","string"==typeof e?e.trim():e)},expression:"form.old_pwd"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"新密码",prop:"new_pwd"}},[l("el-input",{model:{value:t.form.new_pwd,callback:function(e){t.$set(t.form,"new_pwd","string"==typeof e?e.trim():e)},expression:"form.new_pwd"}})],1)],1)],1),t._v(" "),l("div",{staticClass:"p-t-20"},[l("el-button",{staticClass:"fl m-l-20",attrs:{type:"primary",disabled:t.disable},on:{click:function(e){t.submit()}}},[t._v("提交")])],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=app.389401a9f4964070e8d6.js.map